<!-- Interactive Background - Converted from InteractiveBackground.tsx -->

<!-- Canvas for floating bubbles -->
<canvas id="bubble-canvas" class="background-canvas"></canvas>

<!-- Gradient orbs with parallax effect -->
<div class="background-orbs" id="background-orbs">
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="orb orb-3"></div>
</div>

<!-- Subtle grid overlay -->
<div class="background-grid"></div>

<style>
  /* ===== Background Canvas ===== */
  .background-canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
  }

  /* ===== Background Orbs ===== */
  .background-orbs {
    position: fixed;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
    z-index: 0;
  }

  .orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    transition: transform 0.3s ease-out;
  }

  .orb-1 {
    top: -10rem;
    left: -10rem;
    width: 24rem;
    height: 24rem;
    background: rgba(245, 158, 11, 0.3); /* purple-600 */
  }

  [data-theme="dark"] .orb-1 {
    background: rgba(245, 158, 11, 0.2);
  }

  .orb-2 {
    top: 50%;
    right: -10rem;
    width: 24rem;
    height: 24rem;
    background: rgba(251, 146, 60, 0.2); /* violet-400 */
  }

  [data-theme="dark"] .orb-2 {
    background: rgba(251, 146, 60, 0.15); /* orange-400 */
  }

  .orb-3 {
    bottom: -10rem;
    left: 33%;
    width: 24rem;
    height: 24rem;
    background: rgba(253, 186, 116, 0.2); /* orange-300 */
  }

  [data-theme="dark"] .orb-3 {
    background: rgba(234, 88, 12, 0.15); /* orange-600 */
  }

  /* ===== Background Grid ===== */
  .background-grid {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    opacity: 0.02;
    background-image: linear-gradient(
        to right,
        rgb(147, 51, 234) 1px,
        /* purple-600 */ transparent 1px
      ),
      linear-gradient(to bottom, rgb(147, 51, 234) 1px, transparent 1px);
    background-size: 50px 50px;
  }

  [data-theme="dark"] .background-grid {
    opacity: 0.03;
  }
</style>

<script>
  (function () {
    // Bubble Canvas Animation
    const canvas = document.getElementById("bubble-canvas");
    if (!canvas) return;

    const ctx = canvas.getContext("2d");
    if (!ctx) return;

    // Resize canvas
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener("resize", resizeCanvas);

    // Bubble class
    class Bubble {
      constructor() {
        this.reset();
      }

      reset() {
        this.x = Math.random() * canvas.width;
        this.y = canvas.height + Math.random() * 100;
        this.radius = Math.random() * 30 + 10;
        this.speedY = Math.random() * 1 + 0.5;
        this.opacity = Math.random() * 0.3 + 0.1;
        this.hue = Math.random() * 20 + 25; // Amber hues (25-45)
      }

      update() {
        this.y -= this.speedY;
        this.x += Math.sin(this.y / 50) * 0.5;

        if (this.y + this.radius < 0) {
          this.y = canvas.height + this.radius;
          this.x = Math.random() * canvas.width;
        }
      }

      draw() {
        const isDark =
          document.documentElement.getAttribute("data-theme") === "dark";

        const gradient = ctx.createRadialGradient(
          this.x - this.radius / 3,
          this.y - this.radius / 3,
          0,
          this.x,
          this.y,
          this.radius
        );

        if (isDark) {
          gradient.addColorStop(
            0,
            `hsla(${this.hue}, 80%, 65%, ${this.opacity * 0.8})`
          );
          gradient.addColorStop(
            0.5,
            `hsla(${this.hue}, 70%, 55%, ${this.opacity * 0.4})`
          );
          gradient.addColorStop(1, `hsla(${this.hue}, 60%, 45%, 0)`);
        } else {
          gradient.addColorStop(
            0,
            `hsla(${this.hue}, 90%, 75%, ${this.opacity})`
          );
          gradient.addColorStop(
            0.5,
            `hsla(${this.hue}, 80%, 65%, ${this.opacity * 0.5})`
          );
          gradient.addColorStop(1, `hsla(${this.hue}, 70%, 55%, 0)`);
        }

        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fillStyle = gradient;
        ctx.fill();

        // Highlight
        ctx.beginPath();
        ctx.arc(
          this.x - this.radius / 3,
          this.y - this.radius / 3,
          this.radius / 3,
          0,
          Math.PI * 2
        );
        ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity * 0.3})`;
        ctx.fill();
      }
    }

    // Create bubbles
    const bubbles = [];
    const bubbleCount = 25;
    for (let i = 0; i < bubbleCount; i++) {
      bubbles.push(new Bubble());
    }

    // Animation loop
    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      bubbles.forEach((bubble) => {
        bubble.update();
        bubble.draw();
      });

      requestAnimationFrame(animate);
    }
    animate();

    // Parallax effect for orbs
    const orbs = document.querySelectorAll(".orb");
    let mouseX = 0;
    let mouseY = 0;

    document.addEventListener("mousemove", (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;

      orbs.forEach((orb, index) => {
        const factor = (index + 1) * 0.01;
        const xOffset = index === 1 ? -mouseX * factor : mouseX * factor;
        const yOffset = index === 2 ? -mouseY * factor : mouseY * factor;
        orb.style.transform = `translate(${xOffset}px, ${yOffset}px)`;
      });
    });
  })();
</script>
